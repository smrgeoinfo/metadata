# @id in schema.org JSON-LD serialization of metadata 

SMR 2023-07-05

A metadata record has two parts; one part is about the metadata record itself, the other part is the content about the resource that the metadata documents. The part about the record specifies the identifier for the metadata record,  agents with responsibility for the record, when it was last updated, what specification or profiles the metadata serialization conforms to, and other optional properties that are deemed useful. The metadata about the resource has properties about the resource like title, description, responsible parties, spatial or temporal extent, based on content requirements for the kind of resource the metadata describes.  

Schema.org includes several properties that can be used to embed information about the metadata record in the resource metadata: sdDatePublished, sdLicense, sdPublisher, but lacks a way to provide an identifier for the metadata record distinct from the resource it describes, to specify other agents responsible for the metadata except the publisher, or to assert specification or profile conformance for the metadata record itself. 
There are two patterns that could be used to structure the two parts of the metadata record:
Option 1. The root object is the described resource:

```
{    "@context": "https://schema.org",
    "@id": "ex:URIforDescribedResource",
    "@type": "ImageObject",
    "title": "Picture of analytical setup",
    "description": "Description of the resource".
    "subjectOf": {
        "@id": "ex:URIforTheMetadata",
        "@type": "DigitalDocument",
        "dateModified": "2017-05-23",
        "encoding": {
            "@type": "MediaObject",
            "dcterms:conformsTo": "ex:cdif-metadataSpec"
          }
        "about":{"@id":"ex:URIforDescribedResource"}
    },
}
```

Option 2: root object is the metadata record

```
{   "@context": "https://schema.org",
    "@id": "ex:URIforTheMetadata",
    "@type": "DigitalDocument",
    "dateModified": "2017-05-23",
    "encoding": {
        "@type": "MediaObject",
        "dcterms:conformsTo": "ex:cdif-metadataSpec"
       },
     "about": {
         "@id": "ex:URIforDescribedResource",
         "@type": "ImageObject",
         "title": "Picture of analytical setup",
         "description": "Description of the resource",
         "subjectOf":"ex:URIforTheMetadata"
       }   }
```

The rdf triples generated by these two approaches are identical, so if the metadata are always harvested to a triple store it makes no difference. However, allowing either approach would create interoperability problems for harvesters that are parsing the metadata as JSON \-- the paths to the same metadata elements are different in the two approaches. It is our judgment that option two above (root object is the metadata) is more consistent with knowledge graph construction, and thus favor a JSON-LD serialization in which the root object is the metadata record. If this is a problem for processing JSON-LD metadata as JSON, JSON-LD framing[^1] can be used to generate a desired, consistent JSON tree structure for processing.

The recommended basic structure of the JSON-LD file is like this (using the 'root object is the metadata' approach). This pattern is used in the examples below.:
```
{
    "@context": [
        "https://schema.org",
        {"dcterms": "http://purl.org/dc/terms/",
   "ex":"https://example.com/99152/"
}
    ],
    "@id": "ex:URIforThisMetadataRecord",
    "@type": "DigitalDocument",
    "dateModified": "2017-02-03",
    "encoding": {
    "@type": "MediaObject",
    	    "dcterms:conformsTo": "ex:cdif-metadataSpec"
          }
    "about": {
    "@id": "ex:URIforDescribedResource",
    "@type": "{the type of the described resource}",
    "dateModified": "2014-02-23" ```
 ..... other metadata content omitted
```          }
   }
```

JSON keys prefixed with '@' are keywords defined in the JSON-LD specification[^2] (see table below)

 | Keyword  |   Description|
 |----------- |-------------|
 | \@context |  The value of the context is an object that specifies set of rules for interpreting the JSON-LD document. The rules can be specified inline in, or via a URI that identifies a context object containing a set of rules. |
|  \@id    |    A string that identifies the subject of the assertions in the JSON object that contains the \@id key.|
|  \@type   |   An identifier for the definition of the structure of the JSON object that contains the \@type key. The type determines what keys or values should be expected in the JSON object that contains the key. Values are types defined in the schema.org vocabulary. In the CDIF framework (and for compatibility with FDOF FDOF digitalObjectType), the schema:additionalType property should be used  |
 


In the example above, there is a 'dateModified' metadata assertion. It would translate into a triple like this:

*ex:URIforThisMetadataRecord  schema:dateModified \"2017-02-03\" *

Which states that the Metadata was modified (most recently) on 2017-02-23.

On the other hand, in the 'about' object, there is a statement:

*ex:URIforDescribedResource schema:dateModified \"2010-02-03\" *

Which states that the Described Resource was modified (most recently) on 2010-02-03. The distinct identifier for the metadata record allows statements to be made about the metadata separately from statements about the resource it describes. Note that the \@type for the metadata node (root node) is 'DigitalDocument'. This is a schema.org type that corresponds broadly to the concept of DigitalObject as used by the Fair Digital Object (FDO) community[^3], recognizing that the metadata record is a digital object.

[^1]: https://www.w3.org/TR/json-ld11-framing/

[^2]: https://www.w3.org/TR/json-ld11/#keywords

[^3]: Bonino, Guizzardi, Sales 2022 (https://fairdigitalobjectframework.org/)